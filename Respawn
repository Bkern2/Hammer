@Name Respawn+++
@Persist D V:vector File:string

if(first()) {

runOnfile(1)
runOnLast(1)
runOntick(1)

if(fileCanLoad()){
fileLoad("lastpos.txt")
print("loading last position... ("+lo)
}

}

if(fileClk()) {
File=fileRead()
print("teleporting to last known position")
V=vec(File:explode(",")[1,string]:toNumber(),File:explode(",")[2,string]:toNumber(),File:explode(",")[3,string]:toNumber())
}

if(last()&fileCanWrite()) {
V=owner():pos()
fileWrite("lastpos.txt",V:x()+","+V:y()+","+V:z())
}
